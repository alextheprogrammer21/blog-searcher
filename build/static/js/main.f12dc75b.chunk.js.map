{"version":3,"sources":["components/Loading.js","components/SearchBar.js","hooks/useDebounce.js","components/Error.js","components/Filters.js","components/card.js","components/Results.js","index.js","components/LiveSearch.js"],"names":["Loading","props","react_default","a","createElement","Fragment","show","className","src","alt","SearchBar","operation","ms","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onSearch","useEffect","handle","setTimeout","clearTimeout","onSubmit","event","preventDefault","spellCheck","placeholder","name","type","onChange","target","loading","Error","onClick","onClose","children","Filters","filterItems","keys","filters","map","filter","key","id","checked","setFilter","htmlFor","card","console","log","cardInfoClass","classnames","card__info--explicit","collectionExplicitness","author","reads","Results","results","card","assign","collectionId","ReactDOM","render","term","search","setSearch","_useState3","_useState4","setResults","_useState5","Explicit","1900s","2000s","Single","EP","_useState6","setFilters","_useState7","_useState8","error","setError","prev","useRef","current","objectSpread","axios","get","concat","then","response","data","posts","sort","b","differenceInDays","Date","releaseDate","catch","react","defineProperty","document","getElementById"],"mappings":"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","file":"static/js/main.f12dc75b.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function Loading(props) {\n  return (\n    <>\n      {props.show && (\n        <img\n          className=\"spinner\"\n          src=\"images/status.png\"\n          alt=\"Loading Indicator\"\n        />\n      )}\n    </>\n  );\n}\n","import React, { useState } from \"react\";\n\nimport useDebounce from \"hooks/useDebounce\";\n\nimport Loading from \"components/Loading\";\n\nexport default function SearchBar(props) {\n  const [value, setValue] = useState(\"\");\n\n  useDebounce(() => props.onSearch(value), 400);\n\n  return (\n    <section className=\"search\">\n      <form className=\"search__form\" onSubmit={event => event.preventDefault()}>\n        <input\n          className=\"radius\"\n          spellCheck=\"false\"\n          placeholder=\"Search Artists\"\n          name=\"search\"\n          type=\"text\"\n          value={value}\n          onChange={event => setValue(event.target.value)}\n        />\n      </form>\n      <Loading show={props.loading} />\n    </section>\n  );\n}\n","import { useEffect } from \"react\";\n\nexport default function useDebounce(operation, ms) {\n  useEffect(() => {\n    const handle = setTimeout(operation, ms);\n    return () => clearTimeout(handle);\n  }, [operation, ms]);\n}\n","import React from \"react\";\n\nexport default function Error(props) {\n  if (props.show === false) return null;\n\n  return (\n    <section className=\"error radius\" onClick={props.onClose}>\n      { props.children } \n      <img className=\"error__close\" src=\"images/times.png\" alt=\"Close\" />\n    </section>\n  );\n}\n","import React from \"react\";\n\nexport default function Filters(props) {\n  const filterItems = Object.keys(props.filters).map(filter => (\n    <div key={filter} className=\"filters__form-group\">\n      <input\n        className=\"filters__checkbox\"\n        type=\"checkbox\"\n        name={filter}\n        id={filter}\n        checked={props.filters[filter]}\n        onChange={event => props.setFilter(filter, event.target.checked)}\n      />\n      <label className=\"filters__label\" htmlFor={filter}>\n        {filter}\n      </label>\n    </div>\n  ));\n\n  return (\n    <section className=\"filters\">\n      <form className=\"filters__form\">{filterItems}</form>\n    </section>\n  );\n}\n","import React from \"react\";\n\nimport classnames from \"classnames\";\n\nexport default function card(props) {\n  \n  console.log(\"here are your props\", props);\n  const cardInfoClass = classnames(\"card__info\", {\n    \"card__info--explicit\": props.collectionExplicitness === \"explicit\"\n  });\n\n  return (\n    <article className=\"card\">\n      <div className={cardInfoClass}>\n        <div className=\"card__name\">Author: {props.author}</div>\n        <div className=\"card__artist\">{props.reads}</div>\n      </div>\n    </article>\n  );\n}\n","import React from \"react\";\nimport { getYear } from \"date-fns\";\n\nimport card from \"components/card\";\n\nexport default function Results(props) {\n  const { results, filters } = props;\n\n  return results\n    // .filter(card => {\n    //   if (\n    //     filters.Explicit === false &&\n    //     card.collectionExplicitness === \"explicit\"\n    //   ) {\n    //     return false;\n    //   }\n\n    //   if (\n    //     filters[\"1900s\"] === false &&\n    //     getYear(new Date(card.releaseDate)) < 2000\n    //   ) {\n    //     return false;\n    //   }\n\n    //   if (\n    //     filters[\"2000s\"] === false &&\n    //     getYear(new Date(card.releaseDate)) >= 2000\n    //   ) {\n    //     return false;\n    //   }\n\n    //   if (\n    //     filters.Single === false &&\n    //     (card.trackCount === 1 || card.collectionName.endsWith(\"- Single\"))\n    //   ) {\n    //     return false;\n    //   }\n\n    //   if (\n    //     filters.EP === false &&\n    //     ((card.trackCount >= 4 && card.trackCount <= 6) ||\n    //       card.collectionName.endsWith(\"- EP\"))\n    //   ) {\n    //     return false;\n    //   }\n\n    //   if (card.collectionName.length > 127 || card.artistName.length > 127) {\n    //     return false;\n    //   }\n\n    //   return true;\n    // })\n    .map(card => {\n      return <card key={card.collectionId} {...card} />;\n    });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./reset.css\";\nimport \"./index.css\";\n\nimport LiveSearch from \"components/LiveSearch\";\n\nReactDOM.render(<LiveSearch />, document.getElementById(\"root\"));\n","import React, { Fragment, useState, useEffect, useRef } from \"react\";\n\nimport { differenceInDays } from \"date-fns\";\n\nimport axios from \"axios\";\n\nimport SearchBar from \"components/SearchBar\";\nimport Error from \"components/Error\";\nimport Filters from \"components/Filters\";\nimport Results from \"components/Results\";\n\nexport default function LiveSearch(props) {\n  const [search, setSearch] = useState({\n    term: \"\",\n    results: [],\n    loading: false\n  });\n\n  const [results, setResults] = useState([]);\n  const [filters, setFilters] = useState({\n    Explicit: true,\n    \"1900s\": true,\n    \"2000s\": true,\n    Single: false,\n    EP: false\n  });\n\n  const [error, setError] = useState(false);\n\n  const prev = useRef(\"\");\n\n  function showError() {\n    setSearch({\n      term: \"\",\n      results: [],\n      loading: false\n    });\n\n    setError(true);\n  }\n\n  useEffect(() => {\n    if (prev.current === \"\" && search.term === \"\") return;\n\n    setSearch(prev => ({\n      ...prev,\n      loading: true\n    }));\n\n    prev.current = search.term;\n\n    axios\n      .get(\n        `https://alex-blog-api.herokuapp.com/api/posts?tags=${search.term}`\n      )\n      .then(response => {\n        setResults(response.data.posts);\n\n        response.data.results.sort((a, b) => {\n          return differenceInDays(\n            new Date(b.releaseDate),\n            new Date(a.releaseDate)\n          );\n        });\n\n        setSearch(search => ({\n          ...search,\n          results: results,\n          loading: false\n        }));\n      })\n      .catch(error => {\n        showError();\n      });\n  }, [search.term]);\n\n  return (\n    <Fragment>\n      <header className=\"logo\">\n        <img src=\"images/brand.png\" alt=\"Brand\" />\n      </header>\n      <main>\n        <SearchBar\n          loading={search.loading}\n          onSearch={term => setSearch({ ...search, term })}\n        />\n        <Error show={error} onClose={event => setError(false)}>\n          The server returned an error.\n        </Error>\n        <Filters\n          filters={filters}\n          setFilter={(filter, value) =>\n            setFilters({ ...filters, [filter]: value })\n          }\n        />\n        <Results results={results} filters={filters} />\n      </main>\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}