{"version":3,"sources":["components/SearchBar.js","hooks/useDebounce.js","components/Filters.js","components/Card.js","components/Results.js","index.js","components/LiveSearch.js"],"names":["SearchBar","props","operation","ms","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onSearch","useEffect","handle","setTimeout","clearTimeout","react_default","a","createElement","className","onSubmit","event","preventDefault","spellCheck","placeholder","name","type","onChange","target","Filters","filterItems","keys","filters","map","filter","key","id","checked","setFilter","htmlFor","Card","author","reads","Results","results","cardInfo","assign","collectionId","ReactDOM","render","term","loading","search","setSearch","_useState3","_useState4","setResults","_useState5","Asc","Reads","_useState6","setFilters","_useState7","_useState8","sortBy","setSortBy","_useState9","_useState10","direction","setDirection","_useState11","_useState12","setError","prev","useRef","current","objectSpread","axios","get","concat","then","response","data","posts","sort","b","differenceInDays","Date","releaseDate","catch","error","react","src","alt","defineProperty","document","getElementById"],"mappings":"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","file":"static/js/main.c54e58f8.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport useDebounce from \"hooks/useDebounce\";\r\n\r\nexport default function SearchBar(props) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  useDebounce(() => props.onSearch(value), 400);\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <form className=\"search__form\" onSubmit={event => event.preventDefault()}>\r\n        <input\r\n          className=\"radius\"\r\n          spellCheck=\"false\"\r\n          placeholder=\"Search Artists\"\r\n          name=\"search\"\r\n          type=\"text\"\r\n          value={value}\r\n          onChange={event => setValue(event.target.value)}\r\n        />\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\n\r\nexport default function useDebounce(operation, ms) {\r\n  useEffect(() => {\r\n    const handle = setTimeout(operation, ms);\r\n    return () => clearTimeout(handle);\r\n  }, [operation, ms]);\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Filters(props) {\r\n  const filterItems = Object.keys(props.filters).map(filter => (\r\n    <div key={filter} className=\"filters__form-group\">\r\n      <input\r\n        className=\"filters__checkbox\"\r\n        type=\"checkbox\"\r\n        name={filter}\r\n        id={filter}\r\n        checked={props.filters[filter]}\r\n        onChange={event => props.setFilter(filter, event.target.checked)}\r\n      />\r\n      <label className=\"filters__label\" htmlFor={filter}>\r\n        {filter}\r\n      </label>\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <section className=\"filters\">\r\n      <form className=\"filters__form\">{filterItems}</form>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Card(props) {\r\n  \r\n\r\n  return (\r\n    <article className=\"card\">\r\n      <div className=\"card__info\">\r\n        <div className=\"card__name\">Author: {props.author} ({props.id})</div>\r\n        <div className=\"card__artist\">reads: {props.reads}</div>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"components/Card\";\r\n\r\nexport default function Results(props) {\r\n  const { results} = props;\r\n  \r\n  return results.map(cardInfo => {\r\n      return <Card key={cardInfo.collectionId} {...cardInfo} />;\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport \"./reset.css\";\r\nimport \"./index.css\";\r\n\r\nimport LiveSearch from \"components/LiveSearch\";\r\n\r\nReactDOM.render(<LiveSearch />, document.getElementById(\"root\"));\r\n","import React, { Fragment, useState, useEffect, useRef } from \"react\";\r\nimport { differenceInDays } from \"date-fns\";\r\nimport axios from \"axios\";\r\nimport SearchBar from \"components/SearchBar\";\r\nimport Filters from \"components/Filters\";\r\nimport Results from \"components/Results\";\r\n\r\nexport default function LiveSearch(props) {\r\n  const [search, setSearch] = useState({\r\n    term: \"\",\r\n    results: [],\r\n    loading: false\r\n  });\r\n  const [results, setResults] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    Asc: true,\r\n    Reads: false\r\n  });\r\n  const [sortBy, setSortBy] = useState('id');\r\n  const [direction, setDirection] = useState('asc');\r\n  const [error, setError] = useState(false);\r\n  const prev = useRef(\"\");\r\n\r\n  function showError() {\r\n    setSearch({\r\n      term: \"\",\r\n      results: [],\r\n      loading: false\r\n    });\r\n    setError(true);\r\n  }\r\n  useEffect(() => {\r\n    if (prev.current === \"\" && search.term === \"\") return;\r\n    setSearch(prev => ({\r\n      ...prev,\r\n      loading: false\r\n    }));\r\n    prev.current = search.term;\r\n\r\n    //Checkbox filters modifying the api request\r\n    if (filters.Reads) {\r\n      setSortBy('reads');\r\n    }\r\n    if (!filters.Reads) {\r\n      setSortBy('id');\r\n    }\r\n    if (filters.Asc) {\r\n      setDirection('asc');\r\n    }\r\n    if (!filters.Asc) {\r\n      setDirection('desc');\r\n    }\r\n\r\n    axios\r\n      .get(\r\n        `https://cors-anywhere.herokuapp.com/https://alex-blog-api.herokuapp.com/api/posts?tags=${search.term}&sortBy=${sortBy}&direction=${direction}`\r\n      )\r\n      .then(response => {\r\n        setResults(response.data.posts);\r\n        response.data.results.sort((a, b) => {\r\n          return differenceInDays(\r\n            new Date(b.releaseDate),\r\n            new Date(a.releaseDate)\r\n          );\r\n        });\r\n        setSearch(search => ({\r\n          ...search,\r\n          results: results,\r\n          loading: false\r\n        }));\r\n      })\r\n      .catch(error => {\r\n        showError();\r\n      });\r\n  }, [search.term]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <header className=\"logo\">\r\n        <img src=\"images/brand.png\" alt=\"Brand\" />\r\n      </header>\r\n      <main>\r\n        <SearchBar\r\n          onSearch={term => setSearch({ ...search, term })}\r\n        />\r\n        <Filters\r\n          filters={filters}\r\n          setFilter={(filter, value) =>\r\n            setFilters({ ...filters, [filter]: value })\r\n          }\r\n        />\r\n        <Results results={results} filters={filters} />\r\n      </main>\r\n    </Fragment>\r\n  );\r\n}\r\n"],"sourceRoot":""}