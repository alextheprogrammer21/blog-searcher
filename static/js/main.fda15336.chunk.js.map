{"version":3,"sources":["components/SearchBar.js","hooks/useDebounce.js","components/Filters.js","components/Card.js","components/Results.js","index.js","components/LiveSearch.js"],"names":["SearchBar","props","operation","ms","_useState","useState","_useState2","Object","slicedToArray","value","setValue","onSearch","useEffect","handle","setTimeout","clearTimeout","react_default","a","createElement","className","onSubmit","event","preventDefault","spellCheck","placeholder","name","type","onChange","target","Filters","filterItems","keys","filters","map","filter","key","id","checked","setFilter","htmlFor","Card","author","reads","Results","results","cardInfo","assign","collectionId","ReactDOM","render","term","loading","search","setSearch","_useState3","_useState4","setResults","_useState5","Asc","Reads","_useState6","setFilters","_useState7","_useState8","sortBy","setSortBy","_useState9","_useState10","direction","setDirection","_useState11","_useState12","setError","prev","useRef","current","objectSpread","axios","get","concat","then","response","data","posts","sort","b","differenceInDays","Date","releaseDate","catch","error","react","src","alt","defineProperty","document","getElementById"],"mappings":"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","file":"static/js/main.fda15336.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport useDebounce from \"hooks/useDebounce\";\n\nexport default function SearchBar(props) {\n  const [value, setValue] = useState(\"\");\n\n  useDebounce(() => props.onSearch(value), 400);\n\n  return (\n    <section className=\"search\">\n      <form className=\"search__form\" onSubmit={event => event.preventDefault()}>\n        <input\n          className=\"radius\"\n          spellCheck=\"false\"\n          placeholder=\"Search Artists\"\n          name=\"search\"\n          type=\"text\"\n          value={value}\n          onChange={event => setValue(event.target.value)}\n        />\n      </form>\n    </section>\n  );\n}\n","import { useEffect } from \"react\";\n\nexport default function useDebounce(operation, ms) {\n  useEffect(() => {\n    const handle = setTimeout(operation, ms);\n    return () => clearTimeout(handle);\n  }, [operation, ms]);\n}\n","import React from \"react\";\n\nexport default function Filters(props) {\n  const filterItems = Object.keys(props.filters).map(filter => (\n    <div key={filter} className=\"filters__form-group\">\n      <input\n        className=\"filters__checkbox\"\n        type=\"checkbox\"\n        name={filter}\n        id={filter}\n        checked={props.filters[filter]}\n        onChange={event => props.setFilter(filter, event.target.checked)}\n      />\n      <label className=\"filters__label\" htmlFor={filter}>\n        {filter}\n      </label>\n    </div>\n  ));\n\n  return (\n    <section className=\"filters\">\n      <form className=\"filters__form\">{filterItems}</form>\n    </section>\n  );\n}\n","import React from \"react\";\n\nexport default function Card(props) {\n  \n\n  return (\n    <article className=\"card\">\n      <div className=\"card__info\">\n        <div className=\"card__name\">Author: {props.author} ({props.id})</div>\n        <div className=\"card__artist\">reads: {props.reads}</div>\n      </div>\n    </article>\n  );\n}\n","import React from \"react\";\nimport Card from \"components/Card\";\n\nexport default function Results(props) {\n  const { results} = props;\n  \n  return results.map(cardInfo => {\n      return <Card key={cardInfo.collectionId} {...cardInfo} />;\n    });\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./reset.css\";\nimport \"./index.css\";\n\nimport LiveSearch from \"components/LiveSearch\";\n\nReactDOM.render(<LiveSearch />, document.getElementById(\"root\"));\n","import React, { Fragment, useState, useEffect, useRef } from \"react\";\nimport { differenceInDays } from \"date-fns\";\nimport axios from \"axios\";\nimport SearchBar from \"components/SearchBar\";\nimport Filters from \"components/Filters\";\nimport Results from \"components/Results\";\n\nexport default function LiveSearch(props) {\n  const [search, setSearch] = useState({\n    term: \"\",\n    results: [],\n    loading: false\n  });\n  const [results, setResults] = useState([]);\n  const [filters, setFilters] = useState({\n    Asc: true,\n    Reads: false\n  });\n  const [sortBy, setSortBy] = useState('id');\n  const [direction, setDirection] = useState('asc');\n  const [error, setError] = useState(false);\n  const prev = useRef(\"\");\n\n  function showError() {\n    setSearch({\n      term: \"\",\n      results: [],\n      loading: false\n    });\n    setError(true);\n  }\n  useEffect(() => {\n    if (prev.current === \"\" && search.term === \"\") return;\n    setSearch(prev => ({\n      ...prev,\n      loading: false\n    }));\n    prev.current = search.term;\n\n    //Checkbox filters modifying the api request\n    if (filters.Reads) {\n      setSortBy('reads');\n    }\n    if (!filters.Reads) {\n      setSortBy('id');\n    }\n    if (filters.Asc) {\n      setDirection('asc');\n    }\n    if (!filters.Asc) {\n      setDirection('desc');\n    }\n\n    axios\n      .get(\n        `https://cors-anywhere.herokuapp.com/https://alex-blog-api.herokuapp.com/api/posts?tags=${search.term}&sortBy=${sortBy}&direction=${direction}`\n      )\n      .then(response => {\n        setResults(response.data.posts);\n        response.data.results.sort((a, b) => {\n          return differenceInDays(\n            new Date(b.releaseDate),\n            new Date(a.releaseDate)\n          );\n        });\n        setSearch(search => ({\n          ...search,\n          results: results,\n          loading: false\n        }));\n      })\n      .catch(error => {\n        showError();\n      });\n  }, [search.term]);\n\n  return (\n    <Fragment>\n      <header className=\"logo\">\n        <img src=\"images/brand.png\" alt=\"Brand\" />\n      </header>\n      <main>\n        <SearchBar\n          onSearch={term => setSearch({ ...search, term })}\n        />\n        <Filters\n          filters={filters}\n          setFilter={(filter, value) =>\n            setFilters({ ...filters, [filter]: value })\n          }\n        />\n        <Results results={results} filters={filters} />\n      </main>\n    </Fragment>\n  );\n}\n"],"sourceRoot":""}